(this["webpackJsonpstarwars-planets-filter"]=this["webpackJsonpstarwars-planets-filter"]||[]).push([[0],{29:function(e,t,a){e.exports=a(41)},35:function(e,t,a){},39:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(11),c=a.n(l),u=a(14),i=a.n(u),o=a(16),m=a(7),s=Object(n.createContext)(),f=a(1),p=a(3);function E(){return(E=Object(o.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://swapi-trybe.herokuapp.com/api/planets/");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,n=a.results.map((function(e){e.residents;var t=Object(p.a)(e,["residents"]);return Object(f.a)({},t)})),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=function(){return E.apply(this,arguments)};var v=function(e){var t=e.children,a=Object(n.useState)([]),l=Object(m.a)(a,2),c=l[0],u=l[1],f=Object(n.useState)({filterByName:{name:""},filterByNumericValues:[]}),p=Object(m.a)(f,2),E=p[0],v=p[1],b=Object(n.useState)(!1),h=Object(m.a)(b,2),j=h[0],y=h[1];function N(e,t,a){return c.filter((function(n){return"menor que"===t?Number(n[e])<Number(a):"maior que"===t?Number(n[e]>Number(a)):Number(n[e])===Number(a)}))}var O=Object(n.useCallback)(Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,d();case 3:t=e.sent,u(t),y(!1);case 6:case"end":return e.stop()}}),e)}))),[]);return r.a.createElement(s.Provider,{value:{planets:c,isLoading:j,getPlanets:O,filters:E,setFilters:v,handleNumericFilters:function(e,t,a){var n=E.filterByNumericValues;if(0===n.length){var r=N(e,t,a);u(r)}else n.forEach((function(e){var t=N(e.column,e.comparison,e.value);u(t)}))},handleNameFilter:function(){""===E.filterByName.name&&0===E.filterByNumericValues.length&&O();var e=c.filter((function(e){return e.name.includes(E.filterByName.name)}));u(e)}}},t)},b=a(10),h=a(27),j=a(26),y=a(25),N=a.n(y),O=function(e){var t=e.type,a=e.color;return r.a.createElement(N.a,{type:t,color:a,height:100,width:50})};a(35);var g=function(){var e=Object(n.useContext)(s),t=e.planets,a=e.getPlanets,l=e.isLoading;return Object(n.useEffect)((function(){a()}),[a]),r.a.createElement("div",null,r.a.createElement("h2",null,"Planetas"),l&&r.a.createElement("div",{className:"loading-container"},r.a.createElement(O,{color:"black",type:"spin"})),t.length&&!l?r.a.createElement(j.a,{className:"mt-4",size:"sm",bordered:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Rotation"),r.a.createElement("th",null,"Orbital"),r.a.createElement("th",null,"Diameter"),r.a.createElement("th",null,"Climate"),r.a.createElement("th",null,"Gravity"),r.a.createElement("th",null,"Terrain"),r.a.createElement("th",null,"Water"),r.a.createElement("th",null,"Population"),r.a.createElement("th",null,"Films"),r.a.createElement("th",null,"Created"),r.a.createElement("th",null,"Edited"),r.a.createElement("th",null,"Url"))),r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",{key:t},Object.values(e).map((function(e){return r.a.createElement("td",{key:e},"string"===typeof e||"number"===typeof e?e:e[0])})))})))):null)};var x=function(){var e=Object(n.useContext)(s),t=e.filters,a=e.setFilters,l=e.handleNameFilter,c=Object(n.useState)(""),u=Object(m.a)(c,2),i=u[0],o=u[1];return r.a.createElement(b.a,null,r.a.createElement(b.a.Group,{className:"d-flex flex-column justify-content-center p-2",controlId:"formBasicEmail"},r.a.createElement(b.a.Label,null,"Filtrar por nome:"),r.a.createElement(b.a.Control,{placeholder:"Nome do planeta",value:i,onChange:function(e){var n=e.target.value;o(n);var r=t;r.filterByName.name=n,a(r),l()},"data-testid":"name-filter"})))},w=a(20),k=a(18),C=a(22),B=a(13),F=a(28);var S=function(){var e=Object(n.useContext)(s),t=e.setFilters,a=e.filters,l=e.handleNumericFilters,c=Object(n.useState)("population"),u=Object(m.a)(c,2),i=u[0],o=u[1],f=Object(n.useState)("maior que"),p=Object(m.a)(f,2),E=p[0],d=p[1],v=Object(n.useState)(0),h=Object(m.a)(v,2),j=h[0],y=h[1];return r.a.createElement(b.a,{className:"d-flex flex-column justify-content-center"},r.a.createElement(b.a.Label,null,"Filtrar por propriedade:"),r.a.createElement(C.a,null,r.a.createElement(B.a,null,r.a.createElement(b.a.Select,{"aria-label":"Default select example",name:"colum-filter","data-testid":"column-filter",value:i,onChange:function(e){var t=e.target;return o(t.value)}},r.a.createElement("option",{value:"population"},"population"),r.a.createElement("option",{value:"orbital_period"},"orbital_period"),r.a.createElement("option",{value:"diameter"},"diameter"),r.a.createElement("option",{value:"rotation_period"},"rotation_period"),r.a.createElement("option",{value:"surface_water"},"surface_water"))),r.a.createElement(B.a,null,r.a.createElement(b.a.Select,{"aria-label":"Default select example",id:"range","data-testid":"comparison-filter",value:E,onChange:function(e){return d(e.target.value)}},r.a.createElement("option",{value:"maior que"},"maior que"),r.a.createElement("option",{value:"menor que"},"menor que"),r.a.createElement("option",{value:"igual a"},"igual a"))),r.a.createElement(B.a,null,r.a.createElement(b.a.Group,{as:C.a},r.a.createElement(B.a,null,r.a.createElement(k.a,{"aria-describedby":"basic-addon1",type:"number",name:"value",id:"value","data-testid":"value-filter",value:j,onChange:function(e){return y(e.target.value)}})),r.a.createElement(B.a,null,r.a.createElement(F.a,{variant:"secondary","data-testid":"button-filter",type:"submit",id:"button-filter",name:"button-filter",onClick:function(e){e.preventDefault();var n={column:i,comparison:E,value:j},r=a.filterByNumericValues||[];t({filterByNumericValues:[].concat(Object(w.a)(r),[n])}),l(i,E,j)}},"Filtrar"))))))};a(39);var q=function(){return r.a.createElement("div",{className:"list-planets-page"},r.a.createElement(h.a,{bg:"dark",variant:"dark",className:"justify-content-center text-white fs-2"},r.a.createElement("span",{role:"img","aria-label":"Rocket emoji"},"\ud83d\ude80 ")," ","Starwars Planet Search"),r.a.createElement("main",{className:"filters-container w-70"},r.a.createElement(b.a,{className:"form"},r.a.createElement(x,null),r.a.createElement(S,null)),r.a.createElement(g,null)))};a(40);var P=function(){return r.a.createElement(v,null,r.a.createElement(q,null))};c.a.render(r.a.createElement(P,null),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.9f6c9848.chunk.js.map